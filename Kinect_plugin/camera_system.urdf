
  <!-- Camera Gazebo Model-->
  <link
  name="camera_link">
  <inertial>
    <origin
      xyz="0 0 0"
      rpy="0 0 0" />
    <mass
      value="0.1" />
    <inertia
      ixx="0.001"
      ixy="0"
      ixz="0"
      iyy="0.001"
      iyz="0"
      izz="0.001" />
  </inertial>
  <visual>
    <origin
      xyz="0 0 0.036"
      rpy="0 0 0" />
    <geometry>
      <mesh
        filename="package://arm_urdf/kinect/meshes/kinect.dae" />
    </geometry>
    <material
      name="">
      <color
        rgba="0.79216 0.81961 0.93333 1" />
    </material>
  </visual>
  <collision>
    <origin
      xyz="0 0 0"
      rpy="0 0 0" />
    <geometry>
      <mesh
        filename="package://arm_urdf/kinect/meshes/kinect.dae" />
    </geometry>
  </collision>
</link>

<joint name="camera_kinect" type="fixed">
  <parent link="link_6"/>
  <child link="camera_link"/>
  <origin xyz="-0.25 0.15 0.6" rpy="3.14 0 -1.57"/>
  <!-- Adjust xyz for position, note the Y coordinate -->
</joint>

<!--Kinect Gazebo Model with Descent Visualization -->


<gazebo reference="camera_link">
  <sensor name="Kinect" type="depth">
      <!-- openni plugin has the x pointing towards the scene, so rotate to have z -->
      <pose frame="kinect">0.0 0.0 1.0 0.0 -1.5708 1.5708</pose>
      
      <camera>
          <horizontal_fov>0.74839718</horizontal_fov>
          <image>
              <width>640</width>
              <height>480</height>
              <format>L_INT8</format>
          </image>
          <clip>
              <near>0.1</near>
              <far>10.0</far>
          </clip>
          <noise>
              <type>gaussian</type>
              <mean>0.5</mean>
              <stddev>1.0</stddev>
          </noise>
      </camera>
      <plugin name="kinect_plugin" filename="libgazebo_ros_openni_kinect.so">
          <baseline>0.1</baseline>
          <alwaysOn>true</alwaysOn>
          <!-- Keep this zero, update_rate in the parent <sensor> tag
          will control the frame rate. -->
          <updateRate>0.0</updateRate>
          <cameraName>kinect_test</cameraName>
          <imageTopicName>/3d_image/image_raw</imageTopicName>
          <cameraInfoTopicName>/3d_image/camera_info</cameraInfoTopicName>
          <depthImageTopicName>/3d_image/image_raw_depth</depthImageTopicName>
          <depthImageInfoTopicName>/3d_image/camera_info</depthImageInfoTopicName>
          <pointCloudTopicName>/3d_image/3d_cloud</pointCloudTopicName>
          <frameName>kinect_body</frameName>
          <pointCloudCutoff>0.5</pointCloudCutoff>
          <pointCloudCutoffMax>2.0</pointCloudCutoffMax>
      </plugin>
      <always_on>true</always_on>
      <update_rate>1.0</update_rate>
  </sensor>
</gazebo>

